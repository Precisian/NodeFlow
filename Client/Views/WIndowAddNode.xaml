<Window x:Class="Client.Views.WIndowAddNode"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Client.Views"
        mc:Ignorable="d"
        Title="노드추가" Height="270" Width="300">
    <!-- 창 전체를 관리하는 메인 Grid 레이아웃입니다. -->
    <Grid>
        <!-- Grid의 행을 정의합니다. 첫 번째 행은 GroupBox, 두 번째 행은 버튼을 위한 공간입니다. -->
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- GroupBox를 첫 번째 행에 배치합니다. -->
        <GroupBox Header="노드 추가" Grid.Row="0">
            <Grid Margin="10,10,10,10">
                <!-- 내부 Grid의 행을 정의합니다. 각 필드가 하나의 행을 차지합니다. -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- 작업명 필드 -->
                <Border BorderBrush="Gray" Grid.Row="0" BorderThickness="1" Margin="2,2,2,2" CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="작업명" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBox Text="{Binding NewNode.NODE_TITLE}" Grid.Column="1" Margin="2,2,2,2" BorderBrush="Transparent"/>
                    </Grid>
                </Border>

                <!-- 시작일시 필드 - DatePicker로 변경 -->
                <Border BorderBrush="Gray" Grid.Row="1" BorderThickness="1" Margin="2,2,2,2" CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="시작일시" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <DatePicker SelectedDate="{Binding NewNode.DATE_START}" Grid.Column="1" Margin="2,2,2,2"/>
                    </Grid>
                </Border>

                <!-- 종료(예정)일시 필드 - DatePicker로 변경 -->
                <Border BorderBrush="Gray" Grid.Row="2" BorderThickness="1" Margin="2,2,2,2" CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="종료(예정)일시" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <DatePicker SelectedDate="{Binding NewNode.DATE_END}" Grid.Column="1" Margin="2,2,2,2"/>
                    </Grid>
                </Border>

                <!-- 담당자 필드 -->
                <Border BorderBrush="Gray" Grid.Row="3" BorderThickness="1" Margin="2,2,2,2" CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="담당자" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        <TextBox Grid.Column="1" Text="{Binding NewNode.ASSIGNEE}" Margin="2,2,2,2" BorderBrush="Transparent"/>
                    </Grid>
                </Border>

                <!-- 진행상태 필드 - ComboBox로 변경 -->
                <Border BorderBrush="Gray" Grid.Row="4" BorderThickness="1" Margin="2,2,2,2" CornerRadius="5">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="5*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="진행상태" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                        <ComboBox x:Name="StatusComboBox" Grid.Column="1" Margin="2,2,2,2"
                                  ItemsSource="{Binding ProcessTypes}"
                                  DisplayMemberPath="NAME"
                                  SelectedValuePath="ID"
                                  SelectedItem="{Binding SelectedType}"/>

                        <Rectangle Fill="{Binding SelectedNodeColor}"
                                   Stroke="Transparent"
                                   StrokeThickness="1"
                                   RadiusX="5"
                                   RadiusY="5"
                                   Margin="2,2,2,2"
                                   Grid.Column="2"/>
                    </Grid>
                </Border>
            </Grid>
        </GroupBox>

        <!-- '추가' 버튼을 두 번째 행에 배치합니다. -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="취소" Margin="5" VerticalAlignment="Center" HorizontalAlignment="Right" Click="CancelButton_Click" Width="60"/>
            <Button Content="추가" Margin="5" VerticalAlignment="Center" HorizontalAlignment="Right" Command ="{Binding AddNodeCommand}" Width="60"/>
        </StackPanel>
        
    </Grid>
</Window>
